# Run format/lint/type checks automatically before each commit
# Install: pip install pre-commit && pre-commit install
# Run on all files once: pre-commit run --all-files

repos:
  - repo: https://github.com/psf/black
    rev: 24.8.0
    hooks:
      - id: black
        args: ["--line-length", "120"]

  - repo: https://github.com/pycqa/flake8
    rev: 7.0.0
    hooks:
      - id: flake8
        args: ["--max-line-length=120", "--extend-ignore=E203,W503"]

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.10.0
    hooks:
      - id: mypy
        pass_filenames: false
        entry: mypy --ignore-missing-imports --explicit-package-bases --package-root=src --exclude 'src/lambda/shared/layers/validation/.*' src
